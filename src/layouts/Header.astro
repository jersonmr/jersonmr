---
import AvatarContainer from "@layouts/AvatarContainer.astro";
import Avatar from "@layouts/Avatar.astro";
import Container from "@components/Container.astro";

interface Props {
    avatar: string;
}

const { avatar }: Props = Astro.props;

const isHomePage = Astro.url.pathname === "/";
---

<header class="pointer-events-none relative z-50 flex flex-none flex-col">
    {
        isHomePage ? (
            <div class="order-last mt-[calc(--spacing(16)-(--spacing(3)))]">
                <Container className="top-0 order-last -mb-3 pt-3">
                    <div class="top-(0, --spacing(3)) w-full">
                        <div class="relative">
                            <AvatarContainer className="absolute top-3 left-0 origin-left transition-opacity transform-3d" />
                            <Avatar
                                large
                                className="block h-16 w-16 origin-left transform translate-3d scale-100"
                                src={avatar}
                            />
                        </div>
                    </div>
                </Container>
            </div>
        ) : (
            <div class="top-0 z-10 h-16 pt-6">
                <Container>
                    <div class="relative flex gap-4">
                        <div class="flex flex-1">
                            {!isHomePage && (
                                <AvatarContainer className="absolute top-3 left-0 origin-left transition-opacity transform-3d" />
                                <Avatar
                                    className="block h-16 w-16 origin-left transform translate-3d scale-100"
                                    src={avatar}
                                />
                            )}
                        </div>
                    </div>
                </Container>
            </div>
        )
    }
</header>
